# Statistical Process and Quality Control in Mass Spectrometry Workflows

## What is easyQC?

The program `easyQC` is tool for statistical process and quality control in
mass spectrometry workflows that integrates nicely in the [Skyline Targeted
Proteomics
Environment](https://skyline.gs.washington.edu/labkey/project/home/software/Skyline/begin.view).

## Feature list at a glance

- Automatically sorts your data by date and time and orders your observations
  with the most recent on the right.  ("What? Does this mean I don't need to
  sort my data manually as it is the case for some other software tools out
  there?", "Yes.")
- Dynamically adapts to custom report templates. (See details below.)
- Flow charts for single peptides can optionally be grouped together by their
  common protein accession.   (See details below.)
- Plots are generated in a nice page layout, ready for printing.
- Observations are colour-coded by a easy four-colour-code, which makes it very
  easy too detect deviations from the norm.
- Has a built in outlier detection.  (See details below.)
- Plot as _many_ flow charts for as _many_ peptides as you like.

## How to cite this software

The [Harvard UoB format]
(http://lrweb.beds.ac.uk/guides/a-guide-to-referencing/cite_computer_program)
suggests to cite this software in the following fashion:

    Möbius, T.W. and Malchow, S. (2014) easyQC: Statistical Process and Quality
    Control in Mass Spectrometry Workflows (Version 1.0) [Computer program].
    Available at: http://00tau.github.io/skyline-addon-easyQC/ (Accessed 03.
    April, 2014)

Thank you for using (and citing) this software.

## Installation using the skyline GUI

Simply follow the GUI-clicking adventure in Skyline:  Successively click on
`Tools -> External Tools -> External Tool Store`.  In the appearing list select
`easyQC`.  You will be promoted for the path to `Rscript` which needs to be
installed on you system.  The tool `easyQC` relies on the CRAN R-packages
[ggplot2], [plyr] and [chron].  Fortunately, these packages should
automatically be installed for you.

## Description

The software comes with an exemplary report template called `easyQC`.  We
recommend to just go with this template, but feel free to create your own.  The
absolute necessary fields your template should contain are:
`PeptideModifiedSequence` and `PrecursorMz`.  These two fields are used as
identifiers for your peptides, and, thus, all other fields should uniquely be
identifiable by these two.  Optionally, the field `ProteinName` can be added to
your template.

By default, the flow charts of ten peptides are grouped together into one plot
each.  If the template also contains the associated protein accession of each
peptide, namely the field `ProteinName`, then all peptides which belong to the
same protein accession are grouped into one plot.

Before the calculation of the mean and standard deviations of each flow chart,
the software will do some outlier detection of your data, namely [Grubbs' test
for outliers](http://en.wikipedia.org/wiki/Grubbs%27_test_for_outliers) will be
applied.  Observations which are classified as outliers by this test are
discarded in the estimation of the mean and standard deviations.   This gives
the estimated means and standard deviations some desirable
[robust](http://en.wikipedia.org/wiki/Robust_statistics) features.

## You can also use `easyQC` from the command line

On Linux, you simply need to add the directory in which you have cloned
`easyQC`'s repository to your path.  Also make sure that `easyQC.r` is
executable.

```
% git clone https://github.com/00tau/skyline-addon-easyQC.git
% cd skyline-addonn-easyQC
% chmod +x easyQC.r
% PATH=$(pwd):$PATH
```

The synopsis is as follows:

```
easyQC.r [OPTIONS] REPORTFILE
```

Where `OPTIONS` is either `verbose` or noting.  For example, to produce some
quality control plots from an `some-report-file.csv` file that has been
generated by Skyline via some report template (e.g. the template `easyQC.skyr`
that comes with this software comes in mind), run the following code from the
command line.

```
% easyQC.r some-report-file.csv
% easyQC.r verbose some-report-file.csv
```

This will produce a file `some-report-file.pdf` with all the plots you need.

You what to install the most recent and latest version in Skyline
-----------------------------------------------------------------

If for some reasons, you are interested in installing the latest GitHub-version
(or any other version of this software that is available on GitHub), the
repository contains a convenient Makefile that will create the necessary files
for the installation process for you.  Simply type:

```
% make
```

This will create a `easyQC.zip` file which contains the needed install scripts
for Skyline.  Now, just follow your Skyline-GUI.

Authors
-------

Thomas W. D. Möbius (R-programming), Sebastian Malchow (Skyline wizard)
